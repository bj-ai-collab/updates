<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Capillary PSV ¬∑ 48-Hour AI Sprint</title>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=DM+Mono:wght@400;500&family=Outfit:wght@200;300;400;500;600;700;800&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#fafbfd;--bg2:#f0f2f7;--bg3:#e8ebf2;
  --ink:#0d1321;--ink2:#2a3150;--ink3:#636b83;--ink4:#9198ad;
  --accent:#dc2746;--accent-s:rgba(220,39,70,.07);
  --teal:#059669;--teal-s:rgba(5,150,105,.07);
  --blue:#2563eb;--blue-s:rgba(37,99,235,.07);
  --gold:#b45309;--gold-s:rgba(180,83,9,.07);
  --purple:#7c3aed;--purple-s:rgba(124,58,237,.07);
  --card:#fff;--border:rgba(13,19,33,.08);--shadow:0 1px 3px rgba(13,19,33,.05),0 0 0 1px rgba(13,19,33,.04);
}
*{margin:0;padding:0;box-sizing:border-box;}
body{background:var(--bg);font-family:'Outfit',sans-serif;overflow:hidden;height:100vh;width:100vw;color:var(--ink);}

.bg-dots{position:fixed;inset:0;z-index:0;opacity:.4;
  background-image:radial-gradient(circle,rgba(13,19,33,.04) 1px,transparent 1px);background-size:28px 28px;}
.bg-grad{position:fixed;inset:0;z-index:0;
  background:radial-gradient(ellipse at 20% 30%,rgba(220,39,70,.03) 0%,transparent 50%),
  radial-gradient(ellipse at 80% 70%,rgba(5,150,105,.03) 0%,transparent 50%);}

/* Chrome */
#progress{position:fixed;top:0;left:0;height:3px;background:linear-gradient(90deg,var(--accent),var(--gold),var(--teal));z-index:200;width:0%;transition:width .3s linear;}
#counter{position:fixed;top:20px;left:50%;transform:translateX(-50%);font-family:'DM Mono',monospace;font-size:10px;color:var(--ink4);letter-spacing:3px;z-index:100;}
#brand-mark{position:fixed;top:20px;left:28px;font-family:'DM Mono',monospace;font-size:9px;color:var(--ink4);letter-spacing:3px;text-transform:uppercase;z-index:100;}
#status{position:fixed;top:20px;right:28px;font-family:'DM Mono',monospace;font-size:10px;color:var(--ink4);letter-spacing:2px;z-index:100;}
#nav{position:fixed;bottom:20px;left:50%;transform:translateX(-50%);z-index:100;display:flex;gap:8px;}
.nb{background:white;border:1px solid var(--border);color:var(--ink3);padding:7px 16px;border-radius:6px;cursor:pointer;font-family:'DM Mono',monospace;font-size:10px;letter-spacing:1px;transition:all .2s;box-shadow:var(--shadow);}
.nb:hover{background:var(--bg2);color:var(--ink);}
#pb{background:var(--accent);border-color:var(--accent);color:white;box-shadow:0 2px 8px rgba(220,39,70,.2);}

/* Stage */
#stage{position:fixed;inset:0;z-index:10;}
.sl{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;
  opacity:0;pointer-events:none;transition:opacity .55s ease;padding:56px 52px 52px;gap:36px;}
.sl.on{opacity:1;pointer-events:all;}
.c{flex-direction:column;align-items:center;justify-content:center;text-align:center;gap:0;}

/* Typography */
.tag{font-family:'DM Mono',monospace;font-size:10px;color:var(--accent);letter-spacing:4px;text-transform:uppercase;
  opacity:0;transform:translateY(14px);transition:all .5s .1s ease;}
.h1{font-family:'Bebas Neue',sans-serif;font-size:76px;letter-spacing:4px;line-height:.9;color:var(--ink);
  opacity:0;transform:translateY(22px);transition:all .6s .25s ease;}
.h2{font-family:'Bebas Neue',sans-serif;font-size:44px;letter-spacing:3px;line-height:.92;color:var(--ink);
  opacity:0;transform:translateY(18px);transition:all .55s .25s ease;}
.sub{font-size:16px;color:var(--ink3);font-weight:400;max-width:620px;line-height:1.7;
  opacity:0;transform:translateY(14px);transition:all .5s .38s ease;}
.dv{width:40px;height:2px;background:var(--accent);margin:16px auto;
  opacity:0;transition:all .4s .32s ease;}

.sl.on .tag,.sl.on .h1,.sl.on .h2,.sl.on .sub,.sl.on .dv,
.sl.on .grid-wrap,.sl.on .flow-wrap,.sl.on .metric-wrap,.sl.on .cols-wrap,
.sl.on .demo-wrap,.sl.on .cta{opacity:1;transform:translateY(0);}

/* ‚îÄ‚îÄ Cards ‚îÄ‚îÄ */
.grid-wrap{display:grid;gap:12px;margin-top:28px;max-width:880px;width:100%;
  opacity:0;transform:translateY(20px);transition:all .6s .42s ease;}
.g2{grid-template-columns:1fr 1fr;}
.g3{grid-template-columns:repeat(3,1fr);}
.g4{grid-template-columns:repeat(4,1fr);}

.card{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:20px 18px;box-shadow:var(--shadow);position:relative;}
.card-dot{position:absolute;top:16px;right:16px;width:8px;height:8px;border-radius:50%;}
.card-dot.ra{background:var(--accent);} .card-dot.rg{background:var(--teal);}
.card-dot.rb{background:var(--blue);} .card-dot.ry{background:var(--gold);} .card-dot.rp{background:var(--purple);}
.card-icon{font-size:20px;margin-bottom:8px;}
.card-title{font-size:13px;font-weight:700;color:var(--ink);margin-bottom:4px;}
.card-desc{font-size:11.5px;color:var(--ink3);line-height:1.55;}
.card-desc strong{color:var(--ink2);font-weight:600;}

/* ‚îÄ‚îÄ Flow ‚îÄ‚îÄ */
.flow-wrap{display:flex;align-items:center;justify-content:center;gap:0;flex-wrap:wrap;max-width:920px;margin-top:28px;
  opacity:0;transform:translateY(20px);transition:all .6s .4s ease;}
.fn{background:var(--card);border:1px solid var(--border);border-radius:9px;padding:12px 16px;text-align:center;min-width:88px;box-shadow:var(--shadow);}
.fn .fi{font-size:16px;margin-bottom:3px;}
.fn .fl{font-size:10px;font-weight:700;color:var(--ink);}
.fn .fs{font-size:8px;color:var(--ink4);margin-top:1px;}
.fa{font-size:14px;color:var(--ink4);margin:0 5px;opacity:.4;}

/* ‚îÄ‚îÄ Metrics ‚îÄ‚îÄ */
.metric-wrap{display:grid;grid-template-columns:1fr 1fr;gap:14px;margin-top:28px;max-width:680px;width:100%;
  opacity:0;transform:translateY(20px);transition:all .6s .45s ease;}
.met{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:22px 18px;box-shadow:var(--shadow);}
.met-num{font-family:'Bebas Neue',sans-serif;font-size:46px;letter-spacing:2px;line-height:1;color:var(--accent);}
.met-label{font-family:'DM Mono',monospace;font-size:9px;letter-spacing:2px;color:var(--ink4);text-transform:uppercase;margin-top:4px;}
.met-why{font-size:11px;color:var(--ink3);line-height:1.5;margin-top:6px;padding-top:6px;border-top:1px solid var(--border);}
.met-why strong{color:var(--ink2);font-weight:600;}

/* ‚îÄ‚îÄ Cols ‚îÄ‚îÄ */
.cols-wrap{display:flex;gap:28px;margin-top:28px;max-width:880px;width:100%;
  opacity:0;transform:translateY(20px);transition:all .6s .42s ease;}
.col{flex:1;}
.col-head{font-family:'DM Mono',monospace;font-size:9px;letter-spacing:2px;text-transform:uppercase;margin-bottom:10px;padding-bottom:6px;border-bottom:2px solid var(--border);}
.col-head.ra{color:var(--accent);border-color:var(--accent);} .col-head.rg{color:var(--teal);border-color:var(--teal);}
.col-head.rb{color:var(--blue);border-color:var(--blue);} .col-head.ry{color:var(--gold);border-color:var(--gold);}
.col-item{font-size:11.5px;color:var(--ink3);line-height:1.55;padding:3px 0;border-bottom:1px solid rgba(0,0,0,.03);}
.col-item strong{color:var(--ink);font-weight:600;}

/* ‚îÄ‚îÄ Demo frames ‚îÄ‚îÄ */
.demo-wrap{display:grid;grid-template-columns:repeat(3,1fr);gap:14px;margin-top:24px;max-width:920px;width:100%;
  opacity:0;transform:translateY(20px);transition:all .6s .4s ease;}
.demo-card{background:var(--card);border:1px solid var(--border);border-radius:12px;overflow:hidden;box-shadow:0 4px 16px rgba(0,0,0,.06);}
.demo-chrome{background:var(--bg2);padding:6px 10px;display:flex;align-items:center;gap:5px;border-bottom:1px solid var(--border);}
.demo-dot{width:7px;height:7px;border-radius:50%;}
.demo-dot.r{background:#ff5f57;}.demo-dot.y{background:#febc2e;}.demo-dot.g{background:#28c840;}
.demo-url{flex:1;background:white;border-radius:4px;padding:2px 8px;font-family:'DM Mono',monospace;font-size:8px;color:var(--ink4);border:1px solid var(--border);margin-left:6px;}
.demo-body{height:280px;overflow:hidden;position:relative;}
.demo-body iframe{width:100%;height:100%;border:none;transform:scale(.75);transform-origin:top left;width:133.33%;height:133.33%;}
.demo-label{padding:8px 12px;font-family:'DM Mono',monospace;font-size:9px;letter-spacing:1px;color:var(--ink3);border-top:1px solid var(--border);background:var(--bg);}

/* ‚îÄ‚îÄ CTA ‚îÄ‚îÄ */
.cta{margin-top:28px;opacity:0;transform:translateY(14px);transition:all .5s .5s ease;}
.cta-pill{display:inline-block;background:var(--accent);padding:10px 24px;border-radius:28px;font-family:'DM Mono',monospace;font-size:10px;letter-spacing:2px;text-transform:uppercase;color:white;box-shadow:0 4px 16px rgba(220,39,70,.2);}

/* ‚îÄ‚îÄ Status pill ‚îÄ‚îÄ */
.status-pill{display:inline-block;font-family:'DM Mono',monospace;font-size:9px;letter-spacing:1px;padding:3px 10px;border-radius:20px;margin-top:8px;}
.status-pill.wip{background:var(--gold-s);color:var(--gold);}
.status-pill.done{background:var(--teal-s);color:var(--teal);}

@media(max-width:1100px){.h1{font-size:52px;}.g3,.g4{grid-template-columns:repeat(2,1fr);}.demo-wrap{grid-template-columns:1fr;}}
</style>
</head>
<body>
<div class="bg-dots"></div>
<div class="bg-grad"></div>

<div id="progress"></div>
<div id="brand-mark">Capillary ¬∑ PSV AI Pilot</div>
<div id="counter">01 / 06</div>
<div id="status">‚ñ∂ AUTO</div>
<div id="nav">
  <button class="nb" onclick="prev()">‚Üê PREV</button>
  <button class="nb" id="pb" onclick="toggle()">‚è∏ PAUSE</button>
  <button class="nb" onclick="next()">NEXT ‚Üí</button>
</div>

<div id="stage">

<!-- ‚ïê‚ïê‚ïê SLIDE 1 ¬∑ WHAT WE LEARNED ‚ïê‚ïê‚ïê -->
<div class="sl c on" id="s0">
  <div class="tag">Capillary PSV Asia ¬∑ February 2026</div>
  <div class="h1">WHAT WE LEARNED<br>IN 48 HOURS</div>
  <div class="dv"></div>
  <div class="sub">Context is everything. Recordings vanish, BRDs miss details, SDDs arrive late. We built a system where context flows from the first call to the last line of code ‚Äî and skills make it repeatable for any brand.</div>
  <div class="grid-wrap g3" style="max-width:780px;">
    <div class="card"><div class="card-dot ra"></div><div class="card-icon">üéô</div><div class="card-title">Context Never Dies</div><div class="card-desc">Recordings feed Skills. Skills feed BRDs. BRDs feed SDDs. <strong>Nothing is lost</strong> between handoffs.</div></div>
    <div class="card"><div class="card-dot rg"></div><div class="card-icon">üîÑ</div><div class="card-title">It Works Both Ways</div><div class="card-desc">Forward: Figma ‚Üí BRD ‚Üí Code. Reverse: <strong>existing code ‚Üí SDD ‚Üí BRD</strong> for legacy migrations via defined skills.</div></div>
    <div class="card"><div class="card-dot rb"></div><div class="card-icon">üß©</div><div class="card-title">Roles Are Blurring</div><div class="card-desc">PMs generate BRDs. SAs classify OOTB vs Custom and write specs. <strong>The lines between PM and SA are dissolving.</strong></div></div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê SLIDE 2 ¬∑ WHAT WE DELIVERED ‚ïê‚ïê‚ïê -->
<div class="sl c" id="s1">
  <div class="tag">What We Delivered</div>
  <div class="h2">4 BRANDS. REAL ARTIFACTS.<br>NOT MOCKUPS.</div>
  <div class="grid-wrap g4" style="max-width:860px;">
    <div class="card">
      <div class="card-dot rg"></div>
      <div class="card-title">Jaspal</div>
      <div class="card-desc"><strong>Reverse-engineered</strong> native app architecture. Parsed Figma. Generated React Native migration blueprint. Flagged platform risks. BRD + SDD artifacts created using defined skills.</div>
      <div class="status-pill wip">30‚Äì40% ¬∑ BUILDING</div>
    </div>
    <div class="card">
      <div class="card-dot rg"></div>
      <div class="card-title">IndiGo</div>
      <div class="card-desc">Co-brand partner portal: BRD, SDD, interactive wireframe, animated system walkthrough. All generated from call recordings fed through Skills pipeline.</div>
      <div class="status-pill wip">30‚Äì40% ¬∑ BUILDING</div>
    </div>
    <div class="card">
      <div class="card-dot ry"></div>
      <div class="card-title">Pidilite</div>
      <div class="card-desc">Dr. Fixit Humsafar loyalty program. BRD + SDD generated. Reverse-engineering existing systems using defined BRD/SDD skills.</div>
      <div class="status-pill wip">30‚Äì40% ¬∑ BUILDING</div>
    </div>
    <div class="card">
      <div class="card-dot ry"></div>
      <div class="card-title">Zen Petroleum</div>
      <div class="card-desc">Loyalty program for fuel retail. BRD + SDD in progress. Original docs transformed through AI skills into structured dev-ready specs.</div>
      <div class="status-pill wip">30‚Äì40% ¬∑ BUILDING</div>
    </div>
  </div>
  <div class="sub" style="margin-top:14px;font-size:13px;color:var(--ink4);">Remaining 60‚Äì70% = coding, integration, QA automation across all brands for end-to-end delivery.</div>
</div>

<!-- ‚ïê‚ïê‚ïê SLIDE 3 ¬∑ HOW WE DELIVERED ‚ïê‚ïê‚ïê -->
<div class="sl c" id="s2">
  <div class="tag">How We Delivered It</div>
  <div class="h2">THE END-TO-END PIPELINE</div>
  <div class="flow-wrap">
    <div class="fn"><div class="fi">üéô</div><div class="fl">Record</div><div class="fs">Granola</div></div>
    <div class="fa">‚Üí</div>
    <div class="fn"><div class="fi">üß†</div><div class="fl">Skills</div><div class="fs">Context Layer</div></div>
    <div class="fa">‚Üí</div>
    <div class="fn"><div class="fi">üé®</div><div class="fl">Figma</div><div class="fs">Design Input</div></div>
    <div class="fa">‚Üí</div>
    <div class="fn"><div class="fi">üìã</div><div class="fl">BRD</div><div class="fs">Auto-gen</div></div>
    <div class="fa">‚Üí</div>
    <div class="fn"><div class="fi">üèó</div><div class="fl">SDD</div><div class="fs">API-tested</div></div>
    <div class="fa">‚Üí</div>
    <div class="fn"><div class="fi">üé´</div><div class="fl">JIRA</div><div class="fs">EPICs/Stories</div></div>
    <div class="fa">‚Üí</div>
    <div class="fn"><div class="fi">üíª</div><div class="fl">Code</div><div class="fs">NEO / Vulcan</div></div>
    <div class="fa">‚Üí</div>
    <div class="fn"><div class="fi">‚úÖ</div><div class="fl">QA</div><div class="fs">Automated</div></div>
    <div class="fa">‚Üí</div>
    <div class="fn"><div class="fi">üì±</div><div class="fl">Ship</div><div class="fs">Production</div></div>
  </div>
  <div class="cols-wrap" style="margin-top:22px;">
    <div class="col"><div class="col-head ra">SA Layer</div>
      <div class="col-item"><strong>OOTB vs Custom vs Non-OOTB</strong> auto-classified</div>
      <div class="col-item">Missing doc details ‚Üí <strong>decision tree ‚Üí real-time ticket</strong></div>
      <div class="col-item">Custom elements detailed via <strong>specific skills</strong></div>
      <div class="col-item">Tested custom/product APIs delivered</div>
    </div>
    <div class="col"><div class="col-head rg">CR &amp; Bug Layer</div>
      <div class="col-item"><strong>Reverse-engineer code ‚Üí BRD ‚Üí SDD</strong> via skills</div>
      <div class="col-item">Git context + recordings ‚Üí better SDDs</div>
      <div class="col-item">Auto test cases on current code</div>
      <div class="col-item">JIRA tickets with <strong>screenshots &amp; videos</strong></div>
    </div>
    <div class="col"><div class="col-head rb">Dev Layer</div>
      <div class="col-item"><strong>NEO &amp; Vulcan Skills</strong> for platform-aware coding</div>
      <div class="col-item">NEO MCP launching next week</div>
      <div class="col-item">Figma ‚Üí Code (early stage, saves 2‚Äì3 days)</div>
      <div class="col-item">Integration, config, data layers <strong>all ingested</strong></div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê SLIDE 4 ¬∑ KEY OUTCOMES ‚ïê‚ïê‚ïê -->
<div class="sl c" id="s3">
  <div class="tag">Key Outcomes</div>
  <div class="h2">MEASURED IMPACT</div>
  <div class="metric-wrap">
    <div class="met">
      <div class="met-num">~4√ó</div>
      <div class="met-label">Speed Increase</div>
      <div class="met-why">Traditional discovery + BRD + SDD = <strong>3‚Äì4 weeks</strong>. With the Skills pipeline, the same artifacts were generated in <strong>2‚Äì3 days</strong> ‚Äî recording ‚Üí context ‚Üí BRD ‚Üí SDD ‚Üí JIRA, with each step feeding the next automatically.</div>
    </div>
    <div class="met">
      <div class="met-num">60‚Äì70%</div>
      <div class="met-label">Planning Reduction</div>
      <div class="met-why">Discovery calls are auto-transcribed and fed into Skills. BRDs are <strong>auto-generated from context</strong>, not blank pages. SDDs inherit the BRD structure. The manual work ‚Äî note-taking, requirement writing, spec drafting ‚Äî is what shrinks.</div>
    </div>
  </div>
  <div class="grid-wrap g3" style="margin-top:16px;max-width:680px;">
    <div class="card" style="text-align:center;padding:16px;"><div class="card-title" style="color:var(--accent);font-size:11px;">Hempel Paints</div><div class="card-desc">2-line brief ‚Üí <strong>30+ requirements + working app in 4 days</strong></div></div>
    <div class="card" style="text-align:center;padding:16px;"><div class="card-title" style="color:var(--teal);font-size:11px;">PM/SA Convergence</div><div class="card-desc">Skills blur the lines ‚Äî <strong>PMs spec, SAs code, roles converge</strong></div></div>
    <div class="card" style="text-align:center;padding:16px;"><div class="card-title" style="color:var(--blue);font-size:11px;">Generic &amp; Reusable</div><div class="card-desc">Skills work for <strong>any customer or vertical</strong> ‚Äî not one-off</div></div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê SLIDE 5 ¬∑ WHAT'S NEXT ‚ïê‚ïê‚ïê -->
<div class="sl c" id="s4">
  <div class="tag">What's Next</div>
  <div class="h2">THE REMAINING 60‚Äì70%</div>
  <div class="sub">We have the artifacts. Now we build, code, and automate QA across all 4 brands for end-to-end delivery.</div>
  <div class="grid-wrap g3" style="max-width:780px;">
    <div class="card"><div class="card-dot ra"></div><div class="card-icon">üíª</div><div class="card-title">Coding &amp; Integration</div><div class="card-desc">NEO MCP launching next week. Vulcan Skills for mobile. FE/BE API integration via Claude Skills. Brands like <strong>MrDIY at scale</strong>.</div></div>
    <div class="card"><div class="card-dot rg"></div><div class="card-icon">‚úÖ</div><div class="card-title">QA Automation</div><div class="card-desc">Auto-generated test cases from SDDs. JIRA tickets with screenshots &amp; videos for bug fixes. <strong>End-to-end test coverage</strong>.</div></div>
    <div class="card"><div class="card-dot rb"></div><div class="card-icon">üìê</div><div class="card-title">Figma ‚Üí Code at Scale</div><div class="card-desc">Early stage but saves 2‚Äì3 days per project. <strong>Proving across repeated use cases</strong> is the next milestone.</div></div>
  </div>
  <div class="grid-wrap g2" style="margin-top:12px;max-width:520px;">
    <div class="card" style="text-align:center;padding:14px;"><div class="card-title" style="color:var(--gold);font-size:11px;">Known Blindspot</div><div class="card-desc">Missing platform docs still cause incorrect solutions. Fixing with <strong>decision trees + real-time doc tickets</strong>.</div></div>
    <div class="card" style="text-align:center;padding:14px;"><div class="card-title" style="color:var(--purple);font-size:11px;">Skill Governance</div><div class="card-desc">Skills need continuous updates as platform evolves. <strong>Stale context = stale output</strong>.</div></div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê SLIDE 6 ¬∑ LIVE DEMOS ‚ïê‚ïê‚ïê -->
<div class="sl c" id="s5">
  <div class="tag">Live Simulations</div>
  <div class="h2">WHAT THE PROTOTYPES LOOK LIKE</div>
  <div class="demo-wrap">
    <div class="demo-card">
      <div class="demo-chrome">
        <div class="demo-dot r"></div><div class="demo-dot y"></div><div class="demo-dot g"></div>
        <div class="demo-url">jaspal-jps-club-prototype</div>
      </div>
      <div class="demo-body"><iframe id="if-jps" data-src="jps-demo.html" title="JPS Club"></iframe></div>
      <div class="demo-label">JASPAL ¬∑ JPS Club Mobile App</div>
    </div>
    <div class="demo-card">
      <div class="demo-chrome">
        <div class="demo-dot r"></div><div class="demo-dot y"></div><div class="demo-dot g"></div>
        <div class="demo-url">indigo-cobrand-system-overview</div>
      </div>
      <div class="demo-body"><iframe id="if-indigo" data-src="indigo-demo.html" title="IndiGo"></iframe></div>
      <div class="demo-label">INDIGO ¬∑ Co-Brand Partner Portal</div>
    </div>
    <div class="demo-card">
      <div class="demo-chrome">
        <div class="demo-dot r"></div><div class="demo-dot y"></div><div class="demo-dot g"></div>
        <div class="demo-url">indigo-wireframe-prototype</div>
      </div>
      <div class="demo-body"><iframe id="if-wire" data-src="indigo-wireframe.html" title="IndiGo Wireframe"></iframe></div>
      <div class="demo-label">INDIGO ¬∑ Interactive Wireframe</div>
    </div>
  </div>
  <div class="cta">
    <div class="cta-pill">February 2026 ¬∑ Confidential</div>
  </div>
</div>

</div><!-- /stage -->

<script>
const T=6;
const D=[8000,8000,9000,9000,7000,15000];
let cur=0,play=true,tmr=null;
const ct=document.getElementById('counter'),pg=document.getElementById('progress'),
      st=document.getElementById('status'),pb=document.getElementById('pb');
const pad=n=>String(n).padStart(2,'0');

function go(i){
  if(i<0||i>=T)return;
  document.getElementById('s'+cur)?.classList.remove('on');
  cur=i;
  document.getElementById('s'+cur)?.classList.add('on');
  ct.textContent=pad(cur+1)+' / '+pad(T);
  pg.style.width=((cur+1)/T*100)+'%';
  // Lazy-load demo iframes on slide 6
  if(cur===5){
    ['if-jps','if-indigo','if-wire'].forEach(id=>{
      const f=document.getElementById(id);
      if(f&&!f.src&&f.dataset.src) f.src=f.dataset.src;
    });
    // Auto-advance demos
    setTimeout(()=>{
      ['if-jps','if-indigo','if-wire'].forEach(id=>{
        try{document.getElementById(id)?.contentWindow?.postMessage('play','*');}catch(e){}
      });
    },500);
  }
}
function next(){go(cur+1<T?cur+1:0);sched();}
function prev(){go(cur-1>=0?cur-1:T-1);sched();}
function sched(){clearTimeout(tmr);if(!play)return;tmr=setTimeout(next,D[cur]||7000);}
function toggle(){play=!play;pb.textContent=play?'‚è∏ PAUSE':'‚ñ∂ PLAY';st.textContent=play?'‚ñ∂ AUTO':'‚è∏ PAUSED';if(play)sched();else clearTimeout(tmr);}
document.addEventListener('keydown',e=>{
  if(e.key==='ArrowRight'||e.key===' '){e.preventDefault();next();}
  else if(e.key==='ArrowLeft')prev();
  else if(e.key==='p')toggle();
});
go(0);sched();
</script>
</body>
</html>
